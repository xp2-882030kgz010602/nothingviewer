<html>
<script src="./p5.js"></script>
<script>
alert('Clicking the step button too fast will break the simulator.\nPressing the back button enough times will undo this.');
var canvas_width=1600;
var canvas_height=1200;
canvas_width=Math.max(canvas_width,1600);
canvas_height=Math.max(canvas_height,1000);
function setup() {
	createCanvas(canvas_width,canvas_height);
}
var array_lib={
includes:function(includer,includee){
	includer=includer.join(';');
	includer=includer.split(';');
	includee=includee+'';
	return includer.includes(includee);
},
equals:function(array1,array2){
	array1=array1+'';
	array2=array2+'';
	return array1===array2;
},
index_of:function(includer,includee){
	includer=includer.join(';');
	includer=includer.split(';');
	includee=includee+'';
	return includer.indexOf(includee);
}
};
var rotatehalfpi=function(neighborhood){
	var binary=(neighborhood).toString(2);
	binary='0'.repeat(8-binary.length)+binary;
	return parseInt(binary[5]+binary[3]+binary[0]+binary[6]+binary[1]+binary[7]+binary[4]+binary[2],2);
};
var reflecty=function(neighborhood){
	var binary=(neighborhood).toString(2);
	binary='0'.repeat(8-binary.length)+binary;
	return parseInt(binary[2]+binary[1]+binary[0]+binary[4]+binary[3]+binary[7]+binary[6]+binary[5],2);
};
var rules={
	birth:{
		'1c':0,
		'1e':0,
		'2a':0,
		'2c':0,
		'2e':0,
		'2i':0,
		'2k':0,
		'2n':0,
		'3a':1,
		'3c':1,
		'3e':1,
		'3i':1,
		'3j':1,
		'3k':1,
		'3n':1,
		'3q':1,
		'3r':1,
		'3y':1,
		'4a':0,
		'4c':0,
		'4e':0,
		'4i':0,
		'4j':0,
		'4k':0,
		'4n':0,
		'4q':0,
		'4r':0,
		'4t':0,
		'4w':0,
		'4y':0,
		'4z':0,
		'5a':0,
		'5c':0,
		'5e':0,
		'5i':0,
		'5j':0,
		'5k':0,
		'5n':0,
		'5q':0,
		'5r':0,
		'5y':0,
		'6a':0,
		'6c':0,
		'6e':0,
		'6i':0,
		'6k':0,
		'6n':0,
		'7c':0,
		'7e':0,
		'8':0
	},
	survival:{
		'0':0,
		'1c':0,
		'1e':0,
		'2a':1,
		'2c':1,
		'2e':1,
		'2i':1,
		'2k':1,
		'2n':1,
		'3a':1,
		'3c':1,
		'3e':1,
		'3i':1,
		'3j':1,
		'3k':1,
		'3n':1,
		'3q':1,
		'3r':1,
		'3y':1,
		'4a':0,
		'4c':0,
		'4e':0,
		'4i':0,
		'4j':0,
		'4k':0,
		'4n':0,
		'4q':0,
		'4r':0,
		'4t':0,
		'4w':0,
		'4y':0,
		'4z':0,
		'5a':0,
		'5c':0,
		'5e':0,
		'5i':0,
		'5j':0,
		'5k':0,
		'5n':0,
		'5q':0,
		'5r':0,
		'5y':0,
		'6a':0,
		'6c':0,
		'6e':0,
		'6i':0,
		'6k':0,
		'6n':0,
		'7c':0,
		'7e':0,
		'8':0
	}
};
var find_neighborhood=function(cellpos,grid){
	var neighborhood_number=0;
	if(array_lib.includes(grid,[cellpos[0]-1,cellpos[1]-1])){
		neighborhood_number+=128;
	}
	if(array_lib.includes(grid,[cellpos[0],cellpos[1]-1])){
		neighborhood_number+=64;
	}
	if(array_lib.includes(grid,[cellpos[0]+1,cellpos[1]-1])){
		neighborhood_number+=32;
	}
	if(array_lib.includes(grid,[cellpos[0]-1,cellpos[1]])){
		neighborhood_number+=16;
	}
	if(array_lib.includes(grid,[cellpos[0]+1,cellpos[1]])){
		neighborhood_number+=8;
	}
	if(array_lib.includes(grid,[cellpos[0]-1,cellpos[1]+1])){
		neighborhood_number+=4;
	}
	if(array_lib.includes(grid,[cellpos[0],cellpos[1]+1])){
		neighborhood_number+=2;
	}
	if(array_lib.includes(grid,[cellpos[0]+1,cellpos[1]+1])){
		neighborhood_number+=1;
	}
	var isotropes=[neighborhood_number,rotatehalfpi(reflecty(neighborhood_number)),rotatehalfpi(neighborhood_number),rotatehalfpi(rotatehalfpi(reflecty(neighborhood_number))),rotatehalfpi(rotatehalfpi(neighborhood_number)),reflecty(rotatehalfpi(neighborhood_number)),reflecty(rotatehalfpi(reflecty(neighborhood_number))),reflecty(neighborhood_number)];
	neighborhood_number=Math.min(isotropes[0],isotropes[1],isotropes[2],isotropes[3],isotropes[4],isotropes[5],isotropes[6],isotropes[7]);
	if(neighborhood_number===0){
		return '0';
	}
	if(neighborhood_number===1){
		return '1c';
	}
	if(neighborhood_number===2){
		return '1e';
	}
	if(neighborhood_number===3){
		return '2a';
	}
	if(neighborhood_number===5){
		return '2c';
	}
	if(neighborhood_number===7){
		return '3i';
	}
	if(neighborhood_number===10){
		return '2e';
	}
	if(neighborhood_number===11){
		return '3a';
	}
	if(neighborhood_number===12){
		return '2k';
	}
	if(neighborhood_number===13){
		return '3n';
	}
	if(neighborhood_number===14){
		return '3j';
	}
	if(neighborhood_number===15){
		return '4a';
	}
	if(neighborhood_number===24){
		return '2i';
	}
	if(neighborhood_number===25){
		return '3r';
	}
	if(neighborhood_number===26){
		return '3e';
	}
	if(neighborhood_number===27){
		return '4r';
	}
	if(neighborhood_number===29){
		return '4i';
	}
	if(neighborhood_number===31){
		return '5i';
	}
	if(neighborhood_number===36){
		return '2n';
	}
	if(neighborhood_number===37){
		return '3c';
	}
	if(neighborhood_number===38){
		return '3q';
	}
	if(neighborhood_number===39){
		return '4n';
	}
	if(neighborhood_number===46){
		return '4w';
	}
	if(neighborhood_number===47){
		return '5a';
	}
	if(neighborhood_number===49){
		return '3y';
	}
	if(neighborhood_number===50){
		return '3k';
	}
	if(neighborhood_number===51){
		return '4k';
	}
	if(neighborhood_number===53){
		return '4y';
	}
	if(neighborhood_number===54){
		return '4q';
	}
	if(neighborhood_number===55){
		return '5j';
	}
	if(neighborhood_number===57){
		return '4t';
	}
	if(neighborhood_number===58){
		return '4j';
	}
	if(neighborhood_number===59){
		return '5n';
	}
	if(neighborhood_number===60){
		return '4z';
	}
	if(neighborhood_number===61){
		return '5r';
	}
	if(neighborhood_number===62){
		return '5q';
	}
	if(neighborhood_number===63){
		return '6a';
	}
	if(neighborhood_number===90){
		return '4e';
	}
	if(neighborhood_number===91){
		return '5c';
	}
	if(neighborhood_number===93){
		return '5y';
	}
	if(neighborhood_number===95){
		return '6c';
	}
	if(neighborhood_number===117){
		return '5k';
	}
	if(neighborhood_number===119){
		return '6k';
	}
	if(neighborhood_number===126){
		return '6n';
	}
	if(neighborhood_number===127){
		return '7c';
	}
	if(neighborhood_number===165){
		return '4c';
	}
	if(neighborhood_number===167){
		return '5e';
	}
	if(neighborhood_number===173){
		return '6e';
	}
	if(neighborhood_number===189){
		return '6i';
	}
	if(neighborhood_number===191){
		return '7e';
	}
	if(neighborhood_number===255){
		return '8';
	}
};
var draw_neighborhood=function(xpos,ypos,neighborhood){
	for(var x=0;x<3;x++){
		for(var y=0;y<3;y++){
			if(neighborhood[y][x]){
				rect(xpos+x*100/3,ypos+y*100/3,100/3,100/3);
			}
		}
	}
};
var zoom=1;
var dx=0;
var dy=0;
var cells=[[0,0],[1,0],[1,1],[2,1],[1,2]];
var cells_with_neighbors;
var generations=0;
var first_generation=cells.slice();
var next_generation;
var previous_generations=[];
var paused=false;
var control=false;
function draw() {
	background(0,0,0);
	if(!control){
		cells_with_neighbors=[];
		next_generation=[];
		background(0,0,0);
		fill(0,255,0);
		textAlign(LEFT,BOTTOM);
		textSize(40);
		textFont('Courier New');
		text('Selected cell coordinates:\nx: '+(Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx))+'\ny: '+(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy))+'\nZoom: '+zoom+'\nFocus:\n'+'x: '+(-dx)+'\ny: '+(-dy)+'\nGeneration: '+generations+'\nPopulation: '+cells.length,0,canvas_height);
		noStroke();
		for(var i=0;i<cells.length;i++){
			rect((cells[i][0]+dx)*50*zoom+canvas_width/2,(cells[i][1]+dy)*50*zoom+canvas_height/2,50*zoom,50*zoom);
		}
		if(array_lib.includes(cells,[(Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)),(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy))])){
			fill(0,0,0,127);
			rect((Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)+dx)*50*zoom+canvas_width/2,(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy)+dy)*50*zoom+canvas_height/2,50*zoom,50*zoom);
		}else{
			fill(0,255,0,127);
			rect((Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)+dx)*50*zoom+canvas_width/2,(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy)+dy)*50*zoom+canvas_height/2,50*zoom,50*zoom);
		}
		fill(0,255,0);
		if(!paused){
			previous_generations.push(cells.slice());
			generations+=1;
			for(var i=0;i<cells.length;i++){
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0],cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0],cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]+1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0],cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0],cells[i][1]+1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]+1]);
				}
			}
			for(var i=0;i<cells_with_neighbors.length;i++){
				if(!array_lib.includes(cells,cells_with_neighbors[i])){
					if(rules.birth[find_neighborhood(cells_with_neighbors[i],cells)]){
						next_generation.push(cells_with_neighbors[i]);
					}
				}else{
					if(rules.survival[find_neighborhood(cells_with_neighbors[i],cells)]){
						next_generation.push(cells_with_neighbors[i]);
					}
				}
			}
			cells=next_generation.slice();
		}
		fill(0,0,0,127);
		strokeWeight(1);
		stroke(0,255,0);
		rect(0,0,100,100);
		rect(0,100,100,100);
		rect(100,0,100,100);
		rect(200,100,100,100);
		rect(100,200,100,100);
		rect(canvas_width-100,0,100,100);
		rect(canvas_width-100,100,100,100);
		rect(canvas_width-400,canvas_height-100,100,100);
		rect(canvas_width-300,canvas_height-100,100,100);
		rect(canvas_width-200,canvas_height-100,100,100);
		rect(canvas_width-100,canvas_height-100,100,100);
		fill(0,255,0);
		noStroke();
		if(!paused){
			rect(canvas_width-87.5,canvas_height-87.5,25,75);
			rect(canvas_width-37.5,canvas_height-87.5,25,75);
		}else{
			triangle(canvas_width-87.5,canvas_height-87.5,canvas_width-87.5,canvas_height-12.5,canvas_width-12.5,canvas_height-50);
		}
		rect(canvas_width-187.5,canvas_height-87.5,25,75);
		triangle(canvas_width-137.5,canvas_height-87.5,canvas_width-137.5,canvas_height-12.5,canvas_width-112.5,canvas_height-50);
		rect(canvas_width-237.5,canvas_height-87.5,25,75);
		triangle(canvas_width-262.5,canvas_height-87.5,canvas_width-262.5,canvas_height-12.5,canvas_width-287.5,canvas_height-50);
		triangle(canvas_width-312.5,canvas_height-87.5,canvas_width-312.5,canvas_height-12.5,canvas_width-387.5,canvas_height-50);
		triangle(150,12.5,112.5,87.5,187.5,87.5);
		triangle(150,287.5,112.5,212.5,187.5,212.5);
		triangle(12.5,150,87.5,112.5,87.5,187.5);
		triangle(287.5,150,212.5,112.5,212.5,187.5);
		rect(canvas_width-62.5,12.5,25,75);
		rect(canvas_width-87.5,37.5,75,25);
		rect(canvas_width-87.5,137.5,75,25);
		rect(10,10,80,20);
		rect(10,40,80,20);
		rect(10,70,80,20);
	}else{
		fill(0,0,0);
		strokeWeight(1);
		stroke(0,255,0);
		rect(0,0,100,100);
		rect(100,100,100,100);
		rect(200,100,100,100);
		rect(300,100,100,100);
		rect(400,100,100,100);
		rect(500,100,100,100);
		rect(600,100,100,100);
		rect(700,100,100,100);
		rect(800,100,100,100);
		rect(900,100,100,100);
		rect(1000,100,100,100);
		rect(1100,100,100,100);
		rect(1200,100,100,100);
		rect(1300,100,100,100);
		rect(1400,100,100,100);
		rect(1000,200,100,100);
		rect(1100,200,100,100);
		rect(1200,200,100,100);
		rect(1300,200,100,100);
		rect(1400,200,100,100);
		rect(200,300,100,100);
		rect(300,300,100,100);
		rect(400,300,100,100);
		rect(500,300,100,100);
		rect(600,300,100,100);
		rect(700,300,100,100);
		rect(800,300,100,100);
		rect(900,300,100,100);
		rect(1000,300,100,100);
		rect(1100,300,100,100);
		rect(1200,300,100,100);
		rect(1300,300,100,100);
		rect(1400,300,100,100);
		rect(200,400,100,100);
		rect(300,400,100,100);
		rect(400,400,100,100);
		rect(500,400,100,100);
		rect(600,400,100,100);
		rect(700,400,100,100);
		rect(800,400,100,100);
		rect(900,400,100,100);
		rect(1000,400,100,100);
		rect(1100,400,100,100);
		rect(400,200,100,100);
		rect(500,200,100,100);
		rect(600,200,100,100);
		rect(700,200,100,100);
		rect(800,200,100,100);
		rect(900,200,100,100);
		rect(200,200,100,100);
		rect(300,200,100,100);
		rect(100,200,100,100);
		rect(100,canvas_height-300,100,100);
		rect(100,canvas_height-500,100,100);
		rect(200,canvas_height-500,100,100);
		rect(300,canvas_height-500,100,100);
		rect(400,canvas_height-500,100,100);
		rect(500,canvas_height-500,100,100);
		rect(600,canvas_height-500,100,100);
		rect(700,canvas_height-500,100,100);
		rect(800,canvas_height-500,100,100);
		rect(900,canvas_height-500,100,100);
		rect(1000,canvas_height-500,100,100);
		rect(1100,canvas_height-500,100,100);
		rect(1200,canvas_height-500,100,100);
		rect(1300,canvas_height-500,100,100);
		rect(1400,canvas_height-500,100,100);
		rect(1000,canvas_height-400,100,100);
		rect(1100,canvas_height-400,100,100);
		rect(1200,canvas_height-400,100,100);
		rect(1300,canvas_height-400,100,100);
		rect(1400,canvas_height-400,100,100);
		rect(200,canvas_height-300,100,100);
		rect(300,canvas_height-300,100,100);
		rect(400,canvas_height-300,100,100);
		rect(500,canvas_height-300,100,100);
		rect(600,canvas_height-300,100,100);
		rect(700,canvas_height-300,100,100);
		rect(800,canvas_height-300,100,100);
		rect(900,canvas_height-300,100,100);
		rect(1000,canvas_height-300,100,100);
		rect(1100,canvas_height-300,100,100);
		rect(1200,canvas_height-300,100,100);
		rect(1300,canvas_height-300,100,100);
		rect(1400,canvas_height-300,100,100);
		rect(200,canvas_height-200,100,100);
		rect(300,canvas_height-200,100,100);
		rect(400,canvas_height-200,100,100);
		rect(500,canvas_height-200,100,100);
		rect(600,canvas_height-200,100,100);
		rect(700,canvas_height-200,100,100);
		rect(800,canvas_height-200,100,100);
		rect(900,canvas_height-200,100,100);
		rect(1000,canvas_height-200,100,100);
		rect(1100,canvas_height-200,100,100);
		rect(400,canvas_height-400,100,100);
		rect(500,canvas_height-400,100,100);
		rect(600,canvas_height-400,100,100);
		rect(700,canvas_height-400,100,100);
		rect(800,canvas_height-400,100,100);
		rect(900,canvas_height-400,100,100);
		rect(200,canvas_height-400,100,100);
		rect(300,canvas_height-400,100,100);
		rect(100,canvas_height-400,100,100);
		fill(0,255,0);
		noStroke();
		rect(10,10,80,20);
		rect(10,40,80,20);
		rect(10,70,80,20);
		textAlign(CENTER,CENTER);
		textSize(35);
		textFont('Courier New');
		text('B',150,150);
		text('1c',250,150);
		if(rules.birth['1c']){
			draw_neighborhood(200,100,[[0,0,0],[0,0,0],[0,0,1]]);
		}
		fill(0,255-255*rules.birth['1c'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>100&&mouseY<200){
			draw_neighborhood(200,100,[[0,0,0],[0,0,0],[0,0,1]]);
		}
		fill(0,255,0);
		text('1e',350,150);
		if(rules.birth['1e']){
			draw_neighborhood(300,100,[[0,0,0],[0,0,0],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['1e'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>100&&mouseY<200){
			draw_neighborhood(300,100,[[0,0,0],[0,0,0],[0,1,0]]);
		}
		fill(0,255,0);
		text('2a',450,150);
		if(rules.birth['2a']){
			draw_neighborhood(400,100,[[0,0,0],[0,0,0],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['2a'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>100&&mouseY<200){
			draw_neighborhood(400,100,[[0,0,0],[0,0,0],[0,1,1]]);
		}
		fill(0,255,0);
		text('2c',550,150);
		if(rules.birth['2c']){
			draw_neighborhood(500,100,[[0,0,0],[0,0,0],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['2c'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>100&&mouseY<200){
			draw_neighborhood(500,100,[[0,0,0],[0,0,0],[1,0,1]]);
		}
		fill(0,255,0);
		text('2e',650,150);
		if(rules.birth['2e']){
			draw_neighborhood(600,100,[[0,0,0],[0,0,1],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['2e'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>100&&mouseY<200){
			draw_neighborhood(600,100,[[0,0,0],[0,0,1],[0,1,0]]);
		}
		fill(0,255,0);
		text('2i',750,150);
		if(rules.birth['2i']){
			draw_neighborhood(700,100,[[0,0,0],[1,0,1],[0,0,0]]);
		}
		fill(0,255-255*rules.birth['2i'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>100&&mouseY<200){
			draw_neighborhood(700,100,[[0,0,0],[1,0,1],[0,0,0]]);
		}
		fill(0,255,0);
		text('2k',850,150);
		if(rules.birth['2k']){
			draw_neighborhood(800,100,[[0,0,0],[0,0,1],[1,0,0]]);
		}
		fill(0,255-255*rules.birth['2k'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>100&&mouseY<200){
			draw_neighborhood(800,100,[[0,0,0],[0,0,1],[1,0,0]]);
		}
		fill(0,255,0);
		text('2n',950,150);
		if(rules.birth['2n']){
			draw_neighborhood(900,100,[[0,0,1],[0,0,0],[1,0,0]]);
		}
		fill(0,255-255*rules.birth['2n'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>100&&mouseY<200){
			draw_neighborhood(900,100,[[0,0,1],[0,0,0],[1,0,0]]);
		}
		fill(0,255,0);
		text('3a',1050,150);
		if(rules.birth['3a']){
			draw_neighborhood(1000,100,[[0,0,0],[0,0,1],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['3a'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>100&&mouseY<200){
			draw_neighborhood(1000,100,[[0,0,0],[0,0,1],[0,1,1]]);
		}
		fill(0,255,0);
		text('3c',1150,150);
		if(rules.birth['3c']){
			draw_neighborhood(1100,100,[[0,0,1],[0,0,0],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['3c'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>100&&mouseY<200){
			draw_neighborhood(1100,100,[[0,0,1],[0,0,0],[1,0,1]]);
		}
		fill(0,255,0);
		text('3e',1250,150);
		if(rules.birth['3e']){
			draw_neighborhood(1200,100,[[0,0,0],[1,0,1],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['3e'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>100&&mouseY<200){
			draw_neighborhood(1200,100,[[0,0,0],[1,0,1],[0,1,0]]);
		}
		fill(0,255,0);
		text('3i',1350,150);
		if(rules.birth['3i']){
			draw_neighborhood(1300,100,[[0,0,0],[0,0,0],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['3i'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>100&&mouseY<200){
			draw_neighborhood(1300,100,[[0,0,0],[0,0,0],[1,1,1]]);
		}
		fill(0,255,0);
		text('3j',1450,150);
		if(rules.birth['3j']){
			draw_neighborhood(1400,100,[[0,0,0],[0,0,1],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['3j'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>100&&mouseY<200){
			draw_neighborhood(1400,100,[[0,0,0],[0,0,1],[1,1,0]]);
		}
		fill(0,255,0);
		text('3k',1050,250);
		if(rules.birth['3k']){
			draw_neighborhood(1000,200,[[0,0,1],[1,0,0],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['3k'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>200&&mouseY<300){
			draw_neighborhood(1000,200,[[0,0,1],[1,0,0],[0,1,0]]);
		}
		fill(0,255,0);
		text('3n',1150,250);
		if(rules.birth['3n']){
			draw_neighborhood(1100,200,[[0,0,0],[0,0,1],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['3n'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>200&&mouseY<300){
			draw_neighborhood(1100,200,[[0,0,0],[0,0,1],[1,0,1]]);
		}
		fill(0,255,0);
		text('3q',1250,250);
		if(rules.birth['3q']){
			draw_neighborhood(1200,200,[[0,0,1],[0,0,0],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['3q'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>200&&mouseY<300){
			draw_neighborhood(1200,200,[[0,0,1],[0,0,0],[1,1,0]]);
		}
		fill(0,255,0);
		text('3r',1350,250);
		if(rules.birth['3r']){
			draw_neighborhood(1300,200,[[0,0,0],[1,0,1],[0,0,1]]);
		}
		fill(0,255-255*rules.birth['3r'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>200&&mouseY<300){
			draw_neighborhood(1300,200,[[0,0,0],[1,0,1],[0,0,1]]);
		}
		fill(0,255,0);
		text('3y',1450,250);
		if(rules.birth['3y']){
			draw_neighborhood(1400,200,[[0,0,1],[1,0,0],[0,0,1]]);
		}
		fill(0,255-255*rules.birth['3y'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>200&&mouseY<300){
			draw_neighborhood(1400,200,[[0,0,1],[1,0,0],[0,0,1]]);
		}
		fill(0,255,0);
		text('4a',250,350);
		if(rules.birth['4a']){
			draw_neighborhood(200,300,[[0,0,0],[0,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['4a'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>300&&mouseY<400){
			draw_neighborhood(200,300,[[0,0,0],[0,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('4c',350,350);
		if(rules.birth['4c']){
			draw_neighborhood(300,300,[[1,0,1],[0,0,0],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['4c'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>300&&mouseY<400){
			draw_neighborhood(300,300,[[1,0,1],[0,0,0],[1,0,1]]);
		}
		fill(0,255,0);
		text('4e',450,350);
		if(rules.birth['4e']){
			draw_neighborhood(400,300,[[0,1,0],[1,0,1],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['4e'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>300&&mouseY<400){
			draw_neighborhood(400,300,[[0,1,0],[1,0,1],[0,1,0]]);
		}
		fill(0,255,0);
		text('4i',550,350);
		if(rules.birth['4i']){
			draw_neighborhood(500,300,[[0,0,0],[1,0,1],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['4i'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>300&&mouseY<400){
			draw_neighborhood(500,300,[[0,0,0],[1,0,1],[1,0,1]]);
		}
		fill(0,255,0);
		text('4j',650,350);
		if(rules.birth['4j']){
			draw_neighborhood(600,300,[[0,0,1],[1,0,1],[0,1,0]]);
		}
		fill(0,255-255*rules.birth['4j'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>300&&mouseY<400){
			draw_neighborhood(600,300,[[0,0,1],[1,0,1],[0,1,0]]);
		}
		fill(0,255,0);
		text('4k',750,350);
		if(rules.birth['4k']){
			draw_neighborhood(700,300,[[0,0,1],[1,0,0],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['4k'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>300&&mouseY<400){
			draw_neighborhood(700,300,[[0,0,1],[1,0,0],[0,1,1]]);
		}
		fill(0,255,0);
		text('4n',850,350);
		if(rules.birth['4n']){
			draw_neighborhood(800,300,[[0,0,1],[0,0,0],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['4n'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>300&&mouseY<400){
			draw_neighborhood(800,300,[[0,0,1],[0,0,0],[1,1,1]]);
		}
		fill(0,255,0);
		text('4q',950,350);
		if(rules.birth['4q']){
			draw_neighborhood(900,300,[[0,0,1],[1,0,0],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['4q'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>300&&mouseY<400){
			draw_neighborhood(900,300,[[0,0,1],[1,0,0],[1,1,0]]);
		}
		fill(0,255,0);
		text('4r',1050,350);
		if(rules.birth['4r']){
			draw_neighborhood(1000,300,[[0,0,0],[1,0,1],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['4r'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>300&&mouseY<400){
			draw_neighborhood(1000,300,[[0,0,0],[1,0,1],[0,1,1]]);
		}
		fill(0,255,0);
		text('4t',1150,350);
		if(rules.birth['4t']){
			draw_neighborhood(1100,300,[[0,0,1],[1,0,1],[0,0,1]]);
		}
		fill(0,255-255*rules.birth['4t'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>300&&mouseY<400){
			draw_neighborhood(1100,300,[[0,0,1],[1,0,1],[0,0,1]]);
		}
		fill(0,255,0);
		text('4w',1250,350);
		if(rules.birth['4w']){
			draw_neighborhood(1200,300,[[0,0,1],[0,0,1],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['4w'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>300&&mouseY<400){
			draw_neighborhood(1200,300,[[0,0,1],[0,0,1],[1,1,0]]);
		}
		fill(0,255,0);
		text('4y',1350,350);
		if(rules.birth['4y']){
			draw_neighborhood(1300,300,[[0,0,1],[1,0,0],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['4y'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>300&&mouseY<400){
			draw_neighborhood(1300,300,[[0,0,1],[1,0,0],[1,0,1]]);
		}
		fill(0,255,0);
		text('4z',1450,350);
		if(rules.birth['4z']){
			draw_neighborhood(1400,300,[[0,0,1],[1,0,1],[1,0,0]]);
		}
		fill(0,255-255*rules.birth['4z'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>300&&mouseY<400){
			draw_neighborhood(1400,300,[[0,0,1],[1,0,1],[1,0,0]]);
		}
		fill(0,255,0);
		text('5a',250,450);
		if(rules.birth['5a']){
			draw_neighborhood(200,400,[[0,0,1],[0,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['5a'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>400&&mouseY<500){
			draw_neighborhood(200,400,[[0,0,1],[0,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('5c',350,450);
		if(rules.birth['5c']){
			draw_neighborhood(300,400,[[0,1,0],[1,0,1],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['5c'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>400&&mouseY<500){
			draw_neighborhood(300,400,[[0,1,0],[1,0,1],[0,1,1]]);
		}
		fill(0,255,0);
		text('5e',450,450);
		if(rules.birth['5e']){
			draw_neighborhood(400,400,[[1,0,1],[0,0,0],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['5e'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>400&&mouseY<500){
			draw_neighborhood(400,400,[[1,0,1],[0,0,0],[1,1,1]]);
		}
		fill(0,255,0);
		text('5i',550,450);
		if(rules.birth['5i']){
			draw_neighborhood(500,400,[[0,0,0],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['5i'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>400&&mouseY<500){
			draw_neighborhood(500,400,[[0,0,0],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('5j',650,450);
		if(rules.birth['5j']){
			draw_neighborhood(600,400,[[0,0,1],[1,0,0],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['5j'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>400&&mouseY<500){
			draw_neighborhood(600,400,[[0,0,1],[1,0,0],[1,1,1]]);
		}
		fill(0,255,0);
		text('5k',750,450);
		if(rules.birth['5k']){
			draw_neighborhood(700,400,[[0,1,1],[1,0,0],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['5k'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>400&&mouseY<500){
			draw_neighborhood(700,400,[[0,1,1],[1,0,0],[1,0,1]]);
		}
		fill(0,255,0);
		text('5n',850,450);
		if(rules.birth['5n']){
			draw_neighborhood(800,400,[[0,0,1],[1,0,1],[0,1,1]]);
		}
		fill(0,255-255*rules.birth['5n'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>400&&mouseY<500){
			draw_neighborhood(800,400,[[0,0,1],[1,0,1],[0,1,1]]);
		}
		fill(0,255,0);
		text('5q',950,450);
		if(rules.birth['5q']){
			draw_neighborhood(900,400,[[0,0,1],[1,0,1],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['5q'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>400&&mouseY<500){
			draw_neighborhood(900,400,[[0,0,1],[1,0,1],[1,1,0]]);
		}
		fill(0,255,0);
		text('5r',1050,450);
		if(rules.birth['5r']){
			draw_neighborhood(1000,400,[[0,0,1],[1,0,1],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['5r'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>400&&mouseY<500){
			draw_neighborhood(1000,400,[[0,0,1],[1,0,1],[1,0,1]]);
		}
		fill(0,255,0);
		text('5y',1150,450);
		if(rules.birth['5y']){
			draw_neighborhood(1100,400,[[0,1,0],[1,0,1],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['5y'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>400&&mouseY<500){
			draw_neighborhood(1100,400,[[0,1,0],[1,0,1],[1,0,1]]);
		}
		fill(0,255,0);
		text('6a',450,250);
		if(rules.birth['6a']){
			draw_neighborhood(400,200,[[0,0,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['6a'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>200&&mouseY<300){
			draw_neighborhood(400,200,[[0,0,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('6c',550,250);
		if(rules.birth['6c']){
			draw_neighborhood(500,200,[[0,1,0],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['6c'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>200&&mouseY<300){
			draw_neighborhood(500,200,[[0,1,0],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('6e',650,250);
		if(rules.birth['6e']){
			draw_neighborhood(600,200,[[1,0,1],[0,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['6e'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>200&&mouseY<300){
			draw_neighborhood(600,200,[[1,0,1],[0,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('6i',750,250);
		if(rules.birth['6i']){
			draw_neighborhood(700,200,[[1,0,1],[1,0,1],[1,0,1]]);
		}
		fill(0,255-255*rules.birth['6i'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>200&&mouseY<300){
			draw_neighborhood(700,200,[[1,0,1],[1,0,1],[1,0,1]]);
		}
		fill(0,255,0);
		text('6k',850,250);
		if(rules.birth['6k']){
			draw_neighborhood(800,200,[[0,1,1],[1,0,0],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['6k'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>200&&mouseY<300){
			draw_neighborhood(800,200,[[0,1,1],[1,0,0],[1,1,1]]);
		}
		fill(0,255,0);
		text('6n',950,250);
		if(rules.birth['6n']){
			draw_neighborhood(900,200,[[0,1,1],[1,0,1],[1,1,0]]);
		}
		fill(0,255-255*rules.birth['6n'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>200&&mouseY<300){
			draw_neighborhood(900,200,[[0,1,1],[1,0,1],[1,1,0]]);
		}
		fill(0,255,0);
		text('7c',250,250);
		if(rules.birth['7c']){
			draw_neighborhood(200,200,[[0,1,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['7c'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>200&&mouseY<300){
			draw_neighborhood(200,200,[[0,1,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('7e',350,250);
		if(rules.birth['7e']){
			draw_neighborhood(300,200,[[1,0,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['7e'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>200&&mouseY<300){
			draw_neighborhood(300,200,[[1,0,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('8',150,250);
		if(rules.birth['8']){
			draw_neighborhood(100,200,[[1,1,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255-255*rules.birth['8'],0,127);
		if(mouseX>100&&mouseX<200&&mouseY>200&&mouseY<300){
			draw_neighborhood(100,200,[[1,1,1],[1,0,1],[1,1,1]]);
		}
		fill(0,255,0);
		text('S',150,canvas_height-450);
		if(rules.survival['0']){
			fill(0,255,0);
			draw_neighborhood(100,canvas_height-300,[[0,0,0],[0,1,0],[0,0,0]]);
		}
		fill(0,255-255*rules.survival['0'],0);
		text('0',150,canvas_height-250);
		fill(0,255-255*rules.survival['0'],0,127);
		if(mouseX>100&&mouseX<200&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(100,canvas_height-300,[[0,0,0],[0,1,0],[0,0,0]]);
		}
		if(rules.survival['1c']){
			fill(0,255,0);
			draw_neighborhood(200,canvas_height-500,[[0,0,0],[0,1,0],[0,0,1]]);
		}
		fill(0,255-255*rules.survival['1c'],0);
		text('1c',250,canvas_height-450);
		fill(0,255-255*rules.survival['1c'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(200,canvas_height-500,[[0,0,0],[0,1,0],[0,0,1]]);
		}
		if(rules.survival['1e']){
			fill(0,255,0);
			draw_neighborhood(300,canvas_height-500,[[0,0,0],[0,1,0],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['1e'],0);
		text('1e',350,canvas_height-450);
		fill(0,255-255*rules.survival['1e'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(300,canvas_height-500,[[0,0,0],[0,1,0],[0,1,0]]);
		}
		if(rules.survival['2a']){
			fill(0,255,0);
			draw_neighborhood(400,canvas_height-500,[[0,0,0],[0,1,0],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['2a'],0);
		text('2a',450,canvas_height-450);
		fill(0,255-255*rules.survival['2a'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(400,canvas_height-500,[[0,0,0],[0,1,0],[0,1,1]]);
		}
		if(rules.survival['2c']){
			fill(0,255,0);
			draw_neighborhood(500,canvas_height-500,[[0,0,0],[0,1,0],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['2c'],0);
		text('2c',550,canvas_height-450);
		fill(0,255-255*rules.survival['2c'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(500,canvas_height-500,[[0,0,0],[0,1,0],[1,0,1]]);
		}
		if(rules.survival['2e']){
			fill(0,255,0);
			draw_neighborhood(600,canvas_height-500,[[0,0,0],[0,1,1],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['2e'],0);
		text('2e',650,canvas_height-450);
		fill(0,255-255*rules.survival['2e'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(600,canvas_height-500,[[0,0,0],[0,1,1],[0,1,0]]);
		}
		if(rules.survival['2i']){
			fill(0,255,0);
			draw_neighborhood(700,canvas_height-500,[[0,0,0],[1,1,1],[0,0,0]]);
		}
		fill(0,255-255*rules.survival['2i'],0);
		text('2i',750,canvas_height-450);
		fill(0,255-255*rules.survival['2i'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(700,canvas_height-500,[[0,0,0],[1,1,1],[0,0,0]]);
		}
		if(rules.survival['2k']){
			fill(0,255,0);
			draw_neighborhood(800,canvas_height-500,[[0,0,0],[0,1,1],[1,0,0]]);
		}
		fill(0,255-255*rules.survival['2k'],0);
		text('2k',850,canvas_height-450);
		fill(0,255-255*rules.survival['2k'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(800,canvas_height-500,[[0,0,0],[0,1,1],[1,0,0]]);
		}
		if(rules.survival['2n']){
			fill(0,255,0);
			draw_neighborhood(900,canvas_height-500,[[0,0,1],[0,1,0],[1,0,0]]);
		}
		fill(0,255-255*rules.survival['2n'],0);
		text('2n',950,canvas_height-450);
		fill(0,255-255*rules.survival['2n'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(900,canvas_height-500,[[0,0,1],[0,1,0],[1,0,0]]);
		}
		if(rules.survival['3a']){
			fill(0,255,0);
			draw_neighborhood(1000,canvas_height-500,[[0,0,0],[0,1,1],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['3a'],0);
		text('3a',1050,canvas_height-450);
		fill(0,255-255*rules.survival['3a'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(1000,canvas_height-500,[[0,0,0],[0,1,1],[0,1,1]]);
		}
		if(rules.survival['3c']){
			fill(0,255,0);
			draw_neighborhood(1100,canvas_height-500,[[0,0,1],[0,1,0],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['3c'],0);
		text('3c',1150,canvas_height-450);
		fill(0,255-255*rules.survival['3c'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(1100,canvas_height-500,[[0,0,1],[0,1,0],[1,0,1]]);
		}
		if(rules.survival['3e']){
			fill(0,255,0);
			draw_neighborhood(1200,canvas_height-500,[[0,0,0],[1,1,1],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['3e'],0);
		text('3e',1250,canvas_height-450);
		fill(0,255-255*rules.survival['3e'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(1200,canvas_height-500,[[0,0,0],[1,1,1],[0,1,0]]);
		}
		if(rules.survival['3i']){
			fill(0,255,0);
			draw_neighborhood(1300,canvas_height-500,[[0,0,0],[0,1,0],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['3i'],0);
		text('3i',1350,canvas_height-450);
		fill(0,255-255*rules.survival['3i'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(1300,canvas_height-500,[[0,0,0],[0,1,0],[1,1,1]]);
		}
		if(rules.survival['3j']){
			fill(0,255,0);
			draw_neighborhood(1400,canvas_height-500,[[0,0,0],[0,1,1],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['3j'],0);
		text('3j',1450,canvas_height-450);
		fill(0,255-255*rules.survival['3j'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			draw_neighborhood(1400,canvas_height-500,[[0,0,0],[0,1,1],[1,1,0]]);
		}
		if(rules.survival['3k']){
			fill(0,255,0);
			draw_neighborhood(1000,canvas_height-400,[[0,0,1],[1,1,0],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['3k'],0);
		text('3k',1050,canvas_height-350);
		fill(0,255-255*rules.survival['3k'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(1000,canvas_height-400,[[0,0,1],[1,1,0],[0,1,0]]);
		}
		if(rules.survival['3n']){
			fill(0,255,0);
			draw_neighborhood(1100,canvas_height-400,[[0,0,0],[0,1,1],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['3n'],0);
		text('3n',1150,canvas_height-350);
		fill(0,255-255*rules.survival['3n'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(1100,canvas_height-400,[[0,0,0],[0,1,1],[1,0,1]]);
		}
		if(rules.survival['3q']){
			fill(0,255,0);
			draw_neighborhood(1200,canvas_height-400,[[0,0,1],[0,1,0],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['3q'],0);
		text('3q',1250,canvas_height-350);
		fill(0,255-255*rules.survival['3q'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(1200,canvas_height-400,[[0,0,1],[0,1,0],[1,1,0]]);
		}
		if(rules.survival['3r']){
			fill(0,255,0);
			draw_neighborhood(1300,canvas_height-400,[[0,0,0],[1,1,1],[0,0,1]]);
		}
		fill(0,255-255*rules.survival['3r'],0);
		text('3r',1350,canvas_height-350);
		fill(0,255-255*rules.survival['3r'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(1300,canvas_height-400,[[0,0,0],[1,1,1],[0,0,1]]);
		}
		if(rules.survival['3y']){
			fill(0,255,0);
			draw_neighborhood(1400,canvas_height-400,[[0,0,1],[1,1,0],[0,0,1]]);
		}
		fill(0,255-255*rules.survival['3y'],0);
		text('3y',1450,canvas_height-350);
		fill(0,255-255*rules.survival['3y'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(1400,canvas_height-400,[[0,0,1],[1,1,0],[0,0,1]]);
		}
		if(rules.survival['4a']){
			fill(0,255,0);
			draw_neighborhood(200,canvas_height-300,[[0,0,0],[0,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['4a'],0);
		text('4a',250,canvas_height-250);
		fill(0,255-255*rules.survival['4a'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(200,canvas_height-300,[[0,0,0],[0,1,1],[1,1,1]]);
		}
		if(rules.survival['4c']){
			fill(0,255,0);
			draw_neighborhood(300,canvas_height-300,[[1,0,1],[0,1,0],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['4c'],0);
		text('4c',350,canvas_height-250);
		fill(0,255-255*rules.survival['4c'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(300,canvas_height-300,[[1,0,1],[0,1,0],[1,0,1]]);
		}
		if(rules.survival['4e']){
			fill(0,255,0);
			draw_neighborhood(400,canvas_height-300,[[0,1,0],[1,1,1],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['4e'],0);
		text('4e',450,canvas_height-250);
		fill(0,255-255*rules.survival['4e'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(400,canvas_height-300,[[0,1,0],[1,1,1],[0,1,0]]);
		}
		if(rules.survival['4i']){
			fill(0,255,0);
			draw_neighborhood(500,canvas_height-300,[[0,0,0],[1,1,1],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['4i'],0);
		text('4i',550,canvas_height-250);
		fill(0,255-255*rules.survival['4i'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(500,canvas_height-300,[[0,0,0],[1,1,1],[1,0,1]]);
		}
		if(rules.survival['4j']){
			fill(0,255,0);
			draw_neighborhood(600,canvas_height-300,[[0,0,1],[1,1,1],[0,1,0]]);
		}
		fill(0,255-255*rules.survival['4j'],0);
		text('4j',650,canvas_height-250);
		fill(0,255-255*rules.survival['4j'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(600,canvas_height-300,[[0,0,1],[1,1,1],[0,1,0]]);
		}
		if(rules.survival['4k']){
			fill(0,255,0);
			draw_neighborhood(700,canvas_height-300,[[0,0,1],[1,1,0],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['4k'],0);
		text('4k',750,canvas_height-250);
		fill(0,255-255*rules.survival['4k'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(700,canvas_height-300,[[0,0,1],[1,1,0],[0,1,1]]);
		}
		if(rules.survival['4n']){
			fill(0,255,0);
			draw_neighborhood(800,canvas_height-300,[[0,0,1],[0,1,0],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['4n'],0);
		text('4n',850,canvas_height-250);
		fill(0,255-255*rules.survival['4n'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(800,canvas_height-300,[[0,0,1],[0,1,0],[1,1,1]]);
		}
		if(rules.survival['4q']){
			fill(0,255,0);
			draw_neighborhood(900,canvas_height-300,[[0,0,1],[1,1,0],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['4q'],0);
		text('4q',950,canvas_height-250);
		fill(0,255-255*rules.survival['4q'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(900,canvas_height-300,[[0,0,1],[1,1,0],[1,1,0]]);
		}
		if(rules.survival['4r']){
			fill(0,255,0);
			draw_neighborhood(1000,canvas_height-300,[[0,0,0],[1,1,1],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['4r'],0);
		text('4r',1050,canvas_height-250);
		fill(0,255-255*rules.survival['4r'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(1000,canvas_height-300,[[0,0,0],[1,1,1],[0,1,1]]);
		}
		if(rules.survival['4t']){
			fill(0,255,0);
			draw_neighborhood(1100,canvas_height-300,[[0,0,1],[1,1,1],[0,0,1]]);
		}
		fill(0,255-255*rules.survival['4t'],0);
		text('4t',1150,canvas_height-250);
		fill(0,255-255*rules.survival['4t'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(1100,canvas_height-300,[[0,0,1],[1,1,1],[0,0,1]]);
		}
		if(rules.survival['4w']){
			fill(0,255,0);
			draw_neighborhood(1200,canvas_height-300,[[0,0,1],[0,1,1],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['4w'],0);
		text('4w',1250,canvas_height-250);
		fill(0,255-255*rules.survival['4w'],0,127);
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(1200,canvas_height-300,[[0,0,1],[0,1,1],[1,1,0]]);
		}
		if(rules.survival['4y']){
			fill(0,255,0);
			draw_neighborhood(1300,canvas_height-300,[[0,0,1],[1,1,0],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['4y'],0);
		text('4y',1350,canvas_height-250);
		fill(0,255-255*rules.survival['4y'],0,127);
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(1300,canvas_height-300,[[0,0,1],[1,1,0],[1,0,1]]);
		}
		if(rules.survival['4z']){
			fill(0,255,0);
			draw_neighborhood(1400,canvas_height-300,[[0,0,1],[1,1,1],[1,0,0]]);
		}
		fill(0,255-255*rules.survival['4z'],0);
		text('4z',1450,canvas_height-250);
		fill(0,255-255*rules.survival['4z'],0,127);
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			draw_neighborhood(1400,canvas_height-300,[[0,0,1],[1,1,1],[1,0,0]]);
		}
		if(rules.survival['5a']){
			fill(0,255,0);
			draw_neighborhood(200,canvas_height-200,[[0,0,1],[0,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['5a'],0);
		text('5a',250,canvas_height-150);
		fill(0,255-255*rules.survival['5a'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(200,canvas_height-200,[[0,0,1],[0,1,1],[1,1,1]]);
		}
		if(rules.survival['5c']){
			fill(0,255,0);
			draw_neighborhood(300,canvas_height-200,[[0,1,0],[1,1,1],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['5c'],0);
		text('5c',350,canvas_height-150);
		fill(0,255-255*rules.survival['5c'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-200&&mouseY<canvas_height-1100){
			draw_neighborhood(300,canvas_height-200,[[0,1,0],[1,1,1],[0,1,1]]);
		}
		if(rules.survival['5e']){
			fill(0,255,0);
			draw_neighborhood(400,canvas_height-200,[[1,0,1],[0,1,0],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['5e'],0);
		text('5e',450,canvas_height-150);
		fill(0,255-255*rules.survival['5e'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(400,canvas_height-200,[[1,0,1],[0,1,0],[1,1,1]]);
		}
		if(rules.survival['5i']){
			fill(0,255,0);
			draw_neighborhood(500,canvas_height-200,[[0,0,0],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['5i'],0);
		text('5i',550,canvas_height-150);
		fill(0,255-255*rules.survival['5i'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(500,canvas_height-200,[[0,0,0],[1,1,1],[1,1,1]]);
		}
		if(rules.survival['5j']){
			fill(0,255,0);
			draw_neighborhood(600,canvas_height-200,[[0,0,1],[1,1,0],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['5j'],0);
		text('5j',650,canvas_height-150);
		fill(0,255-255*rules.survival['5j'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(600,canvas_height-200,[[0,0,1],[1,1,0],[1,1,1]]);
		}
		if(rules.survival['5k']){
			fill(0,255,0);
			draw_neighborhood(700,canvas_height-200,[[0,1,1],[1,1,0],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['5k'],0);
		text('5k',750,canvas_height-150);
		fill(0,255-255*rules.survival['5k'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(700,canvas_height-200,[[0,1,1],[1,1,0],[1,0,1]]);
		}
		if(rules.survival['5n']){
			fill(0,255,0);
			draw_neighborhood(800,canvas_height-200,[[0,0,1],[1,1,1],[0,1,1]]);
		}
		fill(0,255-255*rules.survival['5n'],0);
		text('5n',850,canvas_height-150);
		fill(0,255-255*rules.survival['5n'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(800,canvas_height-200,[[0,0,1],[1,1,1],[0,1,1]]);
		}
		if(rules.survival['5q']){
			fill(0,255,0);
			draw_neighborhood(900,canvas_height-200,[[0,0,1],[1,1,1],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['5q'],0);
		text('5q',950,canvas_height-150);
		fill(0,255-255*rules.survival['5q'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(900,canvas_height-200,[[0,0,1],[1,1,1],[1,1,0]]);
		}
		if(rules.survival['5r']){
			fill(0,255,0);
			draw_neighborhood(1000,canvas_height-200,[[0,0,1],[1,1,1],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['5r'],0);
		text('5r',1050,canvas_height-150);
		fill(0,255-255*rules.survival['5r'],0,127);
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(1000,canvas_height-200,[[0,0,1],[1,1,1],[1,0,1]]);
		}
		if(rules.survival['5y']){
			fill(0,255,0);
			draw_neighborhood(1100,canvas_height-200,[[0,1,0],[1,1,1],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['5y'],0);
		text('5y',1150,canvas_height-150);
		fill(0,255-255*rules.survival['5y'],0,127);
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			draw_neighborhood(1100,canvas_height-200,[[0,1,0],[1,1,1],[1,0,1]]);
		}
		if(rules.survival['6a']){
			fill(0,255,0);
			draw_neighborhood(400,canvas_height-400,[[0,0,1],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['6a'],0);
		text('6a',450,canvas_height-350);
		fill(0,255-255*rules.survival['6a'],0,127);
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(400,canvas_height-400,[[0,0,1],[1,1,1],[1,1,1]]);
		}
		if(rules.survival['6c']){
			fill(0,255,0);
			draw_neighborhood(500,canvas_height-400,[[0,1,0],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['6c'],0);
		text('6c',550,canvas_height-350);
		fill(0,255-255*rules.survival['6c'],0,127);
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(500,canvas_height-400,[[0,1,0],[1,1,1],[1,1,1]]);
		}
		if(rules.survival['6e']){
			fill(0,255,0);
			draw_neighborhood(600,canvas_height-400,[[1,0,1],[0,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['6e'],0);
		text('6e',650,canvas_height-350);
		fill(0,255-255*rules.survival['6e'],0,127);
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(600,canvas_height-400,[[1,0,1],[0,1,1],[1,1,1]]);
		}
		if(rules.survival['6i']){
			fill(0,255,0);
			draw_neighborhood(700,canvas_height-400,[[1,0,1],[1,1,1],[1,0,1]]);
		}
		fill(0,255-255*rules.survival['6i'],0);
		text('6i',750,canvas_height-350);
		fill(0,255-255*rules.survival['6i'],0,127);
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(700,canvas_height-400,[[1,0,1],[1,1,1],[1,0,1]]);
		}
		if(rules.survival['6k']){
			fill(0,255,0);
			draw_neighborhood(800,canvas_height-400,[[0,1,1],[1,1,0],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['6k'],0);
		text('6k',850,canvas_height-350);
		fill(0,255-255*rules.survival['6k'],0,127);
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(800,canvas_height-400,[[0,1,1],[1,1,0],[1,1,1]]);
		}
		if(rules.survival['6n']){
			fill(0,255,0);
			draw_neighborhood(900,canvas_height-400,[[0,1,1],[1,1,1],[1,1,0]]);
		}
		fill(0,255-255*rules.survival['6n'],0);
		text('6n',950,canvas_height-350);
		fill(0,255-255*rules.survival['6n'],0,127);
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(900,canvas_height-400,[[0,1,1],[1,1,1],[1,1,0]]);
		}
		if(rules.survival['7c']){
			fill(0,255,0);
			draw_neighborhood(200,canvas_height-400,[[1,0,1],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['7c'],0);
		text('7c',250,canvas_height-350);
		fill(0,255-255*rules.survival['7c'],0,127);
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(200,canvas_height-400,[[1,0,1],[1,1,1],[1,1,1]]);
		}
		if(rules.survival['7e']){
			fill(0,255,0);
			draw_neighborhood(300,canvas_height-400,[[0,1,1],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['7e'],0);
		text('7e',350,canvas_height-350);
		fill(0,255-255*rules.survival['7e'],0,127);
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(300,canvas_height-400,[[0,1,1],[1,1,1],[1,1,1]]);
		}
		if(rules.survival['8']){
			fill(0,255,0);
			draw_neighborhood(100,canvas_height-400,[[1,1,1],[1,1,1],[1,1,1]]);
		}
		fill(0,255-255*rules.survival['8'],0);
		text('8',150,canvas_height-350);
		fill(0,255-255*rules.survival['8'],0,127);
		if(mouseX>100&&mouseX<200&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			draw_neighborhood(100,canvas_height-400,[[1,1,1],[1,1,1],[1,1,1]]);
		}
	}
};
function mousePressed(){
	if(mouseX<0||mouseX>canvas_width||mouseY<0||mouseY>canvas_height){
		return;
	}
	if(mouseX>0&&mouseX<100&&mouseY>0&&mouseY<100){
		control=!control;
		paused=true;
		return;
	}
	if(!control){
		if(mouseX>canvas_width-100&&mouseX<canvas_width&&mouseY>canvas_height-100&&mouseY<canvas_height){
			paused=!paused;
			return;
		}
		if(mouseX>canvas_width-200&&mouseX<canvas_width-100&&mouseY>canvas_height-100&&mouseY<canvas_height&&paused){
			previous_generations.push(cells.slice());
			generations+=1;
			for(var i=0;i<cells.length;i++){
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0],cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0],cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]-1])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]-1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]-1,cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0]-1,cells[i][1]+1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0],cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0],cells[i][1]+1]);
				}
				if(!array_lib.includes(cells_with_neighbors,[cells[i][0]+1,cells[i][1]+1])){
					cells_with_neighbors.push([cells[i][0]+1,cells[i][1]+1]);
				}
			}
			for(var i=0;i<cells_with_neighbors.length;i++){
				if(!array_lib.includes(cells,cells_with_neighbors[i])){
					if(rules.birth[find_neighborhood(cells_with_neighbors[i],cells)]){
						next_generation.push(cells_with_neighbors[i]);
					}
				}else{
					if(rules.survival[find_neighborhood(cells_with_neighbors[i],cells)]){
						next_generation.push(cells_with_neighbors[i]);
					}
				}
			}
			cells=next_generation.slice();
			return;
		}
		if(mouseX>canvas_width-300&&mouseX<canvas_width-200&&mouseY>canvas_height-100&&mouseY<canvas_height){
			paused=true;
			if(previous_generations.length>0){
				generations-=1;
				cells=previous_generations.pop();
			}
			return;
		}
		if(mouseX>canvas_width-400&&mouseX<canvas_width-300&&mouseY>canvas_height-100&&mouseY<canvas_height){
			paused=true;
			previous_generations=[];
			cells=first_generation.slice();
			generations=0;
			return;
		}
		if(mouseX>100&&mouseX<200&&mouseY>0&&mouseY<100){
			dy+=1/zoom;
			return;
		}
		if(mouseX>100&&mouseX<200&&mouseY>200&&mouseY<300){
			dy-=1/zoom;
			return;
		}
		if(mouseX>0&&mouseX<100&&mouseY>100&&mouseY<200){
			dx+=1/zoom;
			return;
		}
		if(mouseX>200&&mouseX<300&&mouseY>100&&mouseY<200){
			dx-=1/zoom;
			return;
		}
		if(mouseX>canvas_width-100&&mouseX<canvas_width&&mouseY>0&&mouseY<100){
			zoom*=2;
			return;
		}
		if(mouseX>canvas_width-100&&mouseX<canvas_width&&mouseY>100&&mouseY<200){
			zoom/=2;
			return;
		}
		if(array_lib.includes(cells,[(Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)),(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy))])){
			cells.splice(array_lib.index_of(cells,[(Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)),(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy))]),1);
			if(generations===0){
				first_generation=cells.slice();
			}
		}else{
			cells.push([(Math.floor((mouseX-canvas_width/2)/(50*zoom)-dx)),(Math.floor((mouseY-canvas_height/2)/(50*zoom)-dy))]);
			if(generations===0){
				first_generation=cells.slice();
			}
		}
	}else{
		if(mouseX>200&&mouseX<300&&mouseY>100&&mouseY<200){
			rules.birth['1c']=1-rules.birth['1c'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>100&&mouseY<200){
			rules.birth['1e']=1-rules.birth['1e'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>100&&mouseY<200){
			rules.birth['2a']=1-rules.birth['2a'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>100&&mouseY<200){
			rules.birth['2c']=1-rules.birth['2c'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>100&&mouseY<200){
			rules.birth['2e']=1-rules.birth['2e'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>100&&mouseY<200){
			rules.birth['2i']=1-rules.birth['2i'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>100&&mouseY<200){
			rules.birth['2k']=1-rules.birth['2k'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>100&&mouseY<200){
			rules.birth['2n']=1-rules.birth['2n'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>100&&mouseY<200){
			rules.birth['3a']=1-rules.birth['3a'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>100&&mouseY<200){
			rules.birth['3c']=1-rules.birth['3c'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>100&&mouseY<200){
			rules.birth['3e']=1-rules.birth['3e'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>100&&mouseY<200){
			rules.birth['3i']=1-rules.birth['3i'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>100&&mouseY<200){
			rules.birth['3j']=1-rules.birth['3j'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>200&&mouseY<300){
			rules.birth['3k']=1-rules.birth['3k'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>200&&mouseY<300){
			rules.birth['3n']=1-rules.birth['3n'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>200&&mouseY<300){
			rules.birth['3q']=1-rules.birth['3q'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>200&&mouseY<300){
			rules.birth['3r']=1-rules.birth['3r'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>200&&mouseY<300){
			rules.birth['3y']=1-rules.birth['3y'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>300&&mouseY<400){
			rules.birth['4a']=1-rules.birth['4a'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>300&&mouseY<400){
			rules.birth['4c']=1-rules.birth['4c'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>300&&mouseY<400){
			rules.birth['4e']=1-rules.birth['4e'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>300&&mouseY<400){
			rules.birth['4i']=1-rules.birth['4i'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>300&&mouseY<400){
			rules.birth['4j']=1-rules.birth['4j'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>300&&mouseY<400){
			rules.birth['4k']=1-rules.birth['4k'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>300&&mouseY<400){
			rules.birth['4n']=1-rules.birth['4n'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>300&&mouseY<400){
			rules.birth['4q']=1-rules.birth['4q'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>300&&mouseY<400){
			rules.birth['4r']=1-rules.birth['4r'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>300&&mouseY<400){
			rules.birth['4t']=1-rules.birth['4t'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>300&&mouseY<400){
			rules.birth['4w']=1-rules.birth['4w'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>300&&mouseY<400){
			rules.birth['4y']=1-rules.birth['4y'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>300&&mouseY<400){
			rules.birth['4z']=1-rules.birth['4z'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>400&&mouseY<500){
			rules.birth['5a']=1-rules.birth['5a'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>400&&mouseY<500){
			rules.birth['5c']=1-rules.birth['5c'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>400&&mouseY<500){
			rules.birth['5e']=1-rules.birth['5e'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>400&&mouseY<500){
			rules.birth['5i']=1-rules.birth['5i'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>400&&mouseY<500){
			rules.birth['5j']=1-rules.birth['5j'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>400&&mouseY<500){
			rules.birth['5k']=1-rules.birth['5k'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>400&&mouseY<500){
			rules.birth['5n']=1-rules.birth['5n'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>400&&mouseY<500){
			rules.birth['5q']=1-rules.birth['5q'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>400&&mouseY<500){
			rules.birth['5r']=1-rules.birth['5r'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>400&&mouseY<500){
			rules.birth['5y']=1-rules.birth['5y'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>200&&mouseY<300){
			rules.birth['6a']=1-rules.birth['6a'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>200&&mouseY<300){
			rules.birth['6c']=1-rules.birth['6c'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>200&&mouseY<300){
			rules.birth['6e']=1-rules.birth['6e'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>200&&mouseY<300){
			rules.birth['6i']=1-rules.birth['6i'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>200&&mouseY<300){
			rules.birth['6k']=1-rules.birth['6k'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>200&&mouseY<300){
			rules.birth['6n']=1-rules.birth['6n'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>200&&mouseY<300){
			rules.birth['7c']=1-rules.birth['7c'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>200&&mouseY<300){
			rules.birth['7e']=1-rules.birth['7e'];
		}
		if(mouseX>100&&mouseX<200&&mouseY>200&&mouseY<300){
			rules.birth['8']=1-rules.birth['8'];
		}
		if(mouseX>100&&mouseX<200&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['0']=1-rules.survival['0'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['1c']=1-rules.survival['1c'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['1e']=1-rules.survival['1e'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2a']=1-rules.survival['2a'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2c']=1-rules.survival['2c'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2e']=1-rules.survival['2e'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2i']=1-rules.survival['2i'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2k']=1-rules.survival['2k'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['2n']=1-rules.survival['2n'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['3a']=1-rules.survival['3a'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['3c']=1-rules.survival['3c'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['3e']=1-rules.survival['3e'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['3i']=1-rules.survival['3i'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-500&&mouseY<canvas_height-400){
			rules.survival['3j']=1-rules.survival['3j'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['3k']=1-rules.survival['3k'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['3n']=1-rules.survival['3n'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['3q']=1-rules.survival['3q'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['3r']=1-rules.survival['3r'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['3y']=1-rules.survival['3y'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4a']=1-rules.survival['4a'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4c']=1-rules.survival['4c'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4e']=1-rules.survival['4e'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4i']=1-rules.survival['4i'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4j']=1-rules.survival['4j'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4k']=1-rules.survival['4k'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4n']=1-rules.survival['4n'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4q']=1-rules.survival['4q'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4r']=1-rules.survival['4r'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4t']=1-rules.survival['4t'];
		}
		if(mouseX>1200&&mouseX<1300&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4w']=1-rules.survival['4w'];
		}
		if(mouseX>1300&&mouseX<1400&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4y']=1-rules.survival['4y'];
		}
		if(mouseX>1400&&mouseX<1500&&mouseY>canvas_height-300&&mouseY<canvas_height-200){
			rules.survival['4z']=1-rules.survival['4z'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5a']=1-rules.survival['5a'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5c']=1-rules.survival['5c'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5e']=1-rules.survival['5e'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5i']=1-rules.survival['5i'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5j']=1-rules.survival['5j'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5k']=1-rules.survival['5k'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5n']=1-rules.survival['5n'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5q']=1-rules.survival['5q'];
		}
		if(mouseX>1000&&mouseX<1100&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5r']=1-rules.survival['5r'];
		}
		if(mouseX>1100&&mouseX<1200&&mouseY>canvas_height-200&&mouseY<canvas_height-100){
			rules.survival['5y']=1-rules.survival['5y'];
		}
		if(mouseX>400&&mouseX<500&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6a']=1-rules.survival['6a'];
		}
		if(mouseX>500&&mouseX<600&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6c']=1-rules.survival['6c'];
		}
		if(mouseX>600&&mouseX<700&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6e']=1-rules.survival['6e'];
		}
		if(mouseX>700&&mouseX<800&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6i']=1-rules.survival['6i'];
		}
		if(mouseX>800&&mouseX<900&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6k']=1-rules.survival['6k'];
		}
		if(mouseX>900&&mouseX<1000&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['6n']=1-rules.survival['6n'];
		}
		if(mouseX>200&&mouseX<300&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['7c']=1-rules.survival['7c'];
		}
		if(mouseX>300&&mouseX<400&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['7e']=1-rules.survival['7e'];
		}
		if(mouseX>100&&mouseX<200&&mouseY>canvas_height-400&&mouseY<canvas_height-300){
			rules.survival['8']=1-rules.survival['8'];
		}
	}
};
</script>
</html>